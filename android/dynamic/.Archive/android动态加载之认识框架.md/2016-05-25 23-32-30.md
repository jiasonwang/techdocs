## android动态加载之认识框架
了解android动态加载的过程，首先需要对android的部分框架进行了解，以下对Android的Activity的生命周期进行讲解，然后看如何hook这个过程的细节。
简单概念解释
```table
java类型  |   职责解释
ActivityThread  |   Apk运行后每个进程都会生成一个该对象(它有java经典的main方法，算是java层进程开启的地方)，算是和框架交互的核心对象。这个看源码的类注释就可以知道。
IApplicationThread  |   一个binder对象接口，用于和android服务框架使用该接口和app进行通信，比如AMS通过该接口来通知app进行activity的生命周期管理。
ActivityManagerNative   | 典型的android binder通信base类，作为服务端的几类以及为客户端提供代理类。主要业务是创建启动act（其他生命周期是通过IApplicationThread调度的），app等。
Instrumentation | 这个类，在android测试中非常熟悉，其实它的方法就是提供创建四大组件等对象用的，那么一当你mock了这个对象，那么就可以对系统进行测试了，而从动态加载的角度讲，你要是替换了这个对象，那么你就可以为系统提供指定的act，service对象了，最最重要的是这个类是我们可以继承访问的。
LoadedApk   | 代表了Apk文件的所有信息，包括资源，类加载器等。并且有一个构造Application的方法（）。
ContextImpl | 继承并实现了大部分的Context，Activity里的很多操作都最终转发至这里去做，使用了ContextThemeWrapper的代理模式。
```